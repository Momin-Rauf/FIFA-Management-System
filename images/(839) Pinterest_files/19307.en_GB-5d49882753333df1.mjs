(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[19307,4394],{537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function o(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,o=t+100;return e.f.style.width=o+"px",e.c.scrollLeft=o,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function s(e,o){function n(){var e=s;i(e)&&e.a.parentNode&&o(e.g)}var s=e;t(e.b,n),t(e.c,n),i(e)}function l(e,t){var o=t||{};this.family=e,this.style=o.style||"normal",this.weight=o.weight||"normal",this.stretch=o.stretch||"normal"}var r=null,a=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function h(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}d=""!==e.style.font}return d}function p(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}l.prototype.load=function(e,t){var i=this,l=e||"BESbswy",d=0,c=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===a)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);a=!!e&&603>parseInt(e[1],10)}else a=!1;return a}()){var m=new Promise((function(e,t){!function o(){(new Date).getTime()-h>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(p(i,'"'+i.family+'"'),l).then((function(t){1<=t.length?e():setTimeout(o,25)}),t)}()})),x=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([x,m]).then((function(){clearTimeout(d),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function a(){var t;(t=-1!=f&&-1!=w||-1!=f&&-1!=g||-1!=w&&-1!=g)&&((t=f!=w&&f!=g&&w!=g)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(f==_&&w==_&&g==_||f==y&&w==y&&g==y||f==v&&w==v&&g==v)),t=!t),t&&(b.parentNode&&b.parentNode.removeChild(b),clearTimeout(d),e(i))}var u=new o(l),m=new o(l),x=new o(l),f=-1,w=-1,g=-1,_=-1,y=-1,v=-1,b=document.createElement("div");b.dir="ltr",n(u,p(i,"sans-serif")),n(m,p(i,"serif")),n(x,p(i,"monospace")),b.appendChild(u.a),b.appendChild(m.a),b.appendChild(x.a),document.body.appendChild(b),_=u.a.offsetWidth,y=m.a.offsetWidth,v=x.a.offsetWidth,function e(){if((new Date).getTime()-h>=c)b.parentNode&&b.parentNode.removeChild(b),t(Error(c+"ms timeout exceeded"));else{var o=document.hidden;!0!==o&&void 0!==o||(f=u.a.offsetWidth,w=m.a.offsetWidth,g=x.a.offsetWidth,a()),d=setTimeout(e,50)}}(),s(u,(function(e){f=e,a()})),n(u,p(i,'"'+i.family+'",sans-serif')),s(m,(function(e){w=e,a()})),n(m,p(i,'"'+i.family+'",serif')),s(x,(function(e){g=e,a()})),n(x,p(i,'"'+i.family+'",monospace'))}))}))},e.exports=l}()},372169:(e,t,o)=>{o.d(t,{Je:()=>n,dA:()=>s,iO:()=>l,jh:()=>r,s_:()=>i,wq:()=>a});const n=350,i=134,s=16,l=2,r=236,a=20},28543:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var n=o(567831);var i=o(55259),s=o(966113);function l(e,t,o){if(!i.Z[e])throw new Error(`unknown url key: ${e}`);o||(o={});let l=i.Z[e](o);const r=function(e,t){let o=null;return e&&(o=e.advertiserId||null),!o&&t&&(o=t.id),o}(o,t);return"string"==typeof r&&(l="/advertiser/"+r+l),!!o.absolutify&&(l=(0,n.Z)(l,void 0,s.KUo)),l}},21353:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(702664),i=o(28543);function s(){const e=(0,n.useSelector)((({advertiser:e})=>e));return(t,o)=>(0,i.default)(t,e,o)}},673270:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(249647),i=o(121093),s=o(911687),l=o(70061),r=o(785893);const a=({placementId:e})=>(0,r.jsx)(i.Z,{placementId:e,predicate:e=>{var t;return 1===(null===(t=e.display_data)||void 0===t?void 0:t.component_type)},children:({complete:e,dismiss:t,experience:{display_data:o}})=>{const i=(0,n.Z)(l.Z)(o);return(0,r.jsx)(s.Z,{displayData:i,onComplete:()=>e(),onDismiss:t})}})},77827:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(667294),i=o(773285),s=o(898781),l=o(883119),r=o(276775),a=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const c=5e3;class u extends n.Component{constructor(...e){super(...e),d(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),d(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),d(this,"loadSurvey",((e=!0)=>{const{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})})),d(this,"processIFrameMessage",(e=>{const{presentationDelay:t=c,onComplete:o,surveyLink:n,onCloseEnabled:i}=this.props,s=e.origin||e.originalEvent.origin;n.startsWith(s)&&("surveyFinished"===e.data?o():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),i?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))})),d(this,"handleShowSurvey",(()=>{this.setState({surveyAccepted:!0})}))}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout((()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))}),15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){const{actionTrigger:e,presentationDelay:t=c}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){const{onView:e,block:t}=this.props;t((()=>{e(),this.setState({showSurveyOnClose:!1})}))}render(){const{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:o,showSurveyOnClose:n}=this.state;if(t)return null;const{acceptButtonText:i,bodyText:s,declineButtonText:r,onDismiss:d,subtitleText:c,surveyLink:u,titleText:h}=this.props,p=(0,a.jsx)("iframe",{style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},src:u,title:this.props.i18n.bt("Pinterest survey", "Pinterest Survey", "Accessible label for survey frame", undefined, true),"data-test-id":"anket-iframe"});return o&&!n?(0,a.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1e3),children:(0,a.jsxs)(l.u_,{accessibilityModalLabel:this.props.i18n.bt("Do you have a few minutes to take a survey?", "Have a few minutes to take a survey?", "User evaluation survey", undefined, true),footer:!e&&(0,a.jsxs)(l.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,a.jsx)(l.zx,{fullWidth:!0,text:r,onClick:()=>{this.setState({surveyAccepted:!1}),d()}})}),(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,a.jsx)(l.zx,{fullWidth:!0,color:"red",text:i,onClick:this.handleShowSurvey})})]}),heading:e?"":h,onDismiss:d,role:"alertdialog",size:e?"lg":"md",padding:"none",children:[(0,a.jsx)(l.xu,{children:p}),!e&&(0,a.jsxs)(l.xu,{padding:3,children:[(0,a.jsx)(l.xv,{children:c}),(0,a.jsx)(l.xv,{children:s})]})]})}):p}}const h=function(e){const t=(0,s.ZP)(),{checkExperiment:o}=(0,i.F)(),l=(0,r.useHistory)(),[d,c]=(0,n.useState)(null),h=(0,n.useRef)(null);return(0,a.jsx)(u,{...e,i18n:t,history:(0,r.useHistory)(),onCloseEnabled:o("discovery_measurements_on_close_survey").anyEnabled,unblock:()=>{var e;h&&(null===(e=h.current)||void 0===e||e.call(h));if(d){const{location:e,action:t}=d;"PUSH"===t?l.push(`${e.pathname}${e.search}`):"POP"===t&&l.goBack()}},block:e=>{h.current=l.block(((t,o)=>(c({location:t,action:o}),e(),!1)))}})};var p=o(121093),m=o(149230),x=o(121151);function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.Component{constructor(...e){super(...e),f(this,"state",{surveyLoaded:!1}),f(this,"loadSurvey",(()=>{var e,t;this.setState({surveyLoaded:!0}),null===(e=(t=this.props).view)||void 0===e||e.call(t)})),f(this,"handleDismiss",(()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})})),f(this,"handleComplete",(()=>{this.props.complete(),this.setState({surveyLoaded:!1})}))}componentDidMount(){const{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;const{displayData:{buttons:e,detailed_text:t,title_text:o}}=this.props;return(0,a.jsx)(x.ZP,{heading:o,accessibilityModalLabel:this.props.i18n.bt("Would you mind taking a survey?", "Would you mind taking a survey?", "User eval survey", undefined, true),onDismiss:this.handleDismiss,size:"sm",footer:(0,a.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:e.map((e=>{if(e.uri){const t=e.uri,o=(0,m.Z)({url:t})?"nofollow":"none";return(0,a.jsx)(l.xu,{marginStart:1,children:(0,a.jsx)(l.zx,{role:"link",href:t,target:"blank",rel:o,fullWidth:!0,color:"red",text:e.text,onClick:this.handleComplete})},e.text)}return(0,a.jsx)(l.xu,{marginStart:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,text:e.text,onClick:this.handleDismiss})},e.text)}))}),children:(0,a.jsx)(l.xu,{padding:3,children:(0,a.jsx)(l.xv,{children:t})})})}}function g(e){const t=(0,s.ZP)();return(0,a.jsx)(w,{...e,i18n:t})}const _=e=>{const{complete:t,dismiss:o,view:n,displayData:i}=e,{anket:s,buttons:l,delay:r,detailed_text:d,subtitle_text:c,title_text:u,action_trigger:p=3}=i,[m,x]=l;return s?(0,a.jsx)(h,{acceptButtonText:x.text,bodyText:d,declineButtonText:m.text,onComplete:t,onDismiss:o,onView:n,presentationDelay:r,subtitleText:c,surveyLink:x.uri,titleText:u,actionTrigger:p}):(0,a.jsx)(g,{complete:t,dismiss:o,displayData:i,view:n})},y=e=>{const{experienceId:t,displayData:o}=e,{delay:i=0}=o,s={...o,delay:0},l={...e,displayData:{...s}},r=(0,n.useRef)(),[d,c]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),o=()=>{e.some(t)?r.current=setTimeout((()=>o()),3e3):c(!0)};return r.current=setTimeout((()=>o()),i),()=>{clearTimeout(r.current)}}),[t,i]),d?(0,a.jsx)(_,{...l}):null};function v(e){const{placementId:t,targeting:o,eligibleIds:n}=e;return(0,a.jsx)(p.Z,{placementId:t,eligibleTypes:[5],disableAutoView:!0,targeting:o,eligibleIds:n||[],children:({complete:e,dismiss:o,view:n,experience:i})=>{const s=i.display_data,l=i.experience_id;return 1000421===t?(0,a.jsx)(y,{experienceId:l,complete:e,dismiss:o,view:n,displayData:s}):(0,a.jsx)(_,{complete:e,dismiss:o,view:n,displayData:s})}})}},911687:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(164985),i=o(391254),s=o(149230),l=o(898781),r=o(444445),a=o(883119),d=o(785893);const c=(r.yF+r.lX)*r.yc-r.lX,u=Array.from(Array(r.g5-r.yc).keys()).reduce(((e,t)=>{const o=t+r.yc,n=(r.yF+r.lX)*o-r.lX;return e+(0,r.KN)(r.yF,o,o,`.banner-content {\n          width: ${n}px;\n          min-width: ${n}px;\n        }`,r.lX)}),`.banner-content {\n      width: ${c}px;\n      min-width: ${c}px;\n  }`);function h(e){const t=(0,l.ZP)(),{displayData:{backgroundColorNarrow:o,backgroundColorWide:r,backgroundImageNarrow:c,backgroundImageWide:h,canClose:p,completeButtonText:m,coverImage:x,dismissButtonText:f,iconImage:w,layoutNarrow:g,layoutWide:_,links:y=[],linkTitles:v=[],message:b,onCompleteRedirectUrl:C,onDismissRedirectUrl:j,textColorNarrow:T,textColorWide:P,titleText:k,external:A},onComplete:I,onDismiss:S}=e,{windowWidth:E}=(0,n.Z)(),z=E<=480,L=z?g:_,D=!z&&3!==L,F=z?o:r,W=z?T:P,{altText:Z,uri:U}=(z?c:h)||{},{altText:O,uri:B}=x||{},{altText:M,uri:H}=w||{},N=z&&2===L||!z&&2===L,R=z?"96px":"48px",$=z&&3===L,V=({event:e})=>{I&&I(e)},X=({event:e})=>{S&&S(e)},q=m&&!C&&(0,d.jsx)(a.zx,{text:m,onClick:V,color:"white"}),K=(0,s.Z)({url:C})?"nofollow":"none",G=m&&C&&(0,d.jsx)(a.zx,{text:m,onClick:V,href:C,role:"link",rel:K,target:A?"blank":void 0,color:"white",size:"lg"},"naglink"),Y=(0,s.Z)({url:j})?"nofollow":"none",Q=f&&j&&(0,d.jsx)(a.zx,{text:f,onClick:X,href:j,role:"link",rel:Y,target:A?"blank":void 0,color:"white",size:"lg"},"naglink"),J=f&&!j&&(0,d.jsx)(a.zx,{text:f,onClick:X,color:"white",size:"lg"}),ee=p&&(0,d.jsx)(a.hU,{accessibilityLabel:t.bt("Close", "Close", "accessibility close label", undefined, true),bgColor:"lightGray",onClick:X,icon:"cancel",iconColor:"gray",size:"md"}),te=y.reduce(((e,t,o)=>{const n=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",i=`<a href="${t}" ${n}>${v[o]}</a>`;return e.replace(`{${o}}`,i)}),b),oe={backgroundColor:F,backgroundImage:!U||N||$?void 0:`url(${U})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,d.jsxs)(a.xu,{direction:D?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:[(0,d.jsx)(i.Z,{unsafeCSS:u}),(0,d.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,d.jsxs)(a.zd,{rounding:4,width:"100%",children:[$&&B&&(0,d.jsx)(a.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,d.jsx)(a.Ee,{alt:O||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:B})}),(0,d.jsxs)(a.xu,{"aria-label":Z,alignItems:"center",dangerouslySetInlineStyle:{__style:oe},direction:D?"row":"column",display:"flex",justifyContent:"between",marginTop:$?-2:0,padding:6,children:[(0,d.jsxs)(a.kC,{alignItems:"center",direction:D?"row":"column",justifyContent:"between",maxWidth:D?void 0:"560px",children:[N&&H&&(0,d.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:D?4:0,marginBottom:D?0:6,children:(0,d.jsx)(a.xu,{height:R,width:R,children:(0,d.jsx)(a.zd,{rounding:D?4:6,children:(0,d.jsx)(a.Ee,{alt:M||"icon",naturalHeight:1,naturalWidth:1,src:H})})})}),!D&&k&&(0,d.jsx)(a.xv,{align:"center",weight:"bold",children:(0,d.jsx)("div",{className:"banner-title",style:{color:W,fontSize:"28px",marginBottom:"8px"},children:k})}),te&&(0,d.jsxs)(a.xv,{align:D?"start":"center",overflow:"normal",children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                        .banner-text a {\n                          color: ${W||""};\n                          font-weight: bold;\n                        }`}}),(0,d.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:te},style:{color:W}})]})]}),(0,d.jsx)(a.xu,{marginBottom:D?0:-1,marginStart:D?4:0,marginTop:D?0:4,children:(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",wrap:!D,gap:{row:2,column:0},children:[J||Q,q||G,ee]})})]})]})})]})}},164985:(e,t,o)=>{o.d(t,{Z:()=>n});function n(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},545062:(e,t,o)=>{o.d(t,{Z:()=>T});var n=o(667294),i=o(702664),s=o(694379),l=o(898781),r=o(349700),a=o(883119),d=o(785893);const c=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,l.ZP)();return(0,r.nk)(n.bt("{{ followCount }} {{ followText }}", "{{ followCount }} {{ followText }}", " - ", undefined, true),{followCount:(0,d.jsx)(a.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,d.jsx)(a.xv,{color:o?"subtle":"inverse",children:(0,d.jsx)(s.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,d.jsx)(a.xu,{"data-test-id":"followText",paddingX:1,children:(0,d.jsx)(a.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=o(704177),h=o(829407),p=o(602574),m=o(11363),x=o(584595),f=o(407043),w=o(918301),g=o(281180),_=o(480622),y=o(946984),v=o(343341),b=o(5226);function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class j extends n.PureComponent{constructor(...e){super(...e),C(this,"handleButtonClick",(({event:e})=>{const{requireAuth:t,i18n:o,userFollowed:n}=this.props;if(t)return e.stopPropagation(),void t({loginModalHeader:(0,m.N4)({i18n:o,toFollow:!n})});const{shouldStopEventPropagation:i,loggingData:s}=this.props;i&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...s||Object.freeze({})}),this.toggleFollowUnfollow()})),C(this,"handleClick",(({event:e})=>{const{requireAuth:t}=this.props;(t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t?t():this.toggleFollowUnfollow()})),C(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:s}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),C(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),C(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast((({hideToast:i})=>(0,d.jsx)(p.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),C(this,"showConfirmation",(()=>{const e=(0,d.jsx)(a.xv,{children:this.props.i18n.bt("Following! Their created Pins will show up in your home feed!", "Following! Their created Pins will show up in your home feed!", "userFollowButton.informationalToastText2", undefined, true)});this.showToast(e)})),C(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:n}=this.props,i=o?this.props.i18n.bt("Error unfollowing {{ usernameComponent }}.", "Error unfollowing {{ usernameComponent }}.", "UserFollowButton.error.unfollowing", undefined, true):this.props.i18n.bt("Error following {{ usernameComponent }}.", "Error following {{ usernameComponent }}.", "UserFollowButton.error.following", undefined, true);if(e&&e.api_error_code===x.H9)return void n();const s=(0,d.jsx)(a.xv,{children:(0,r.nk)(i,{usernameComponent:(0,d.jsx)(a.xv,{weight:"bold",inline:!0,children:t})})});this.showToast(s)})),C(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:s,size:l,showFollowerCount:r,userFollowed:u}=this.props,h=u?this.props.i18n.bt("Following", "Following", "User follow button", undefined, true):this.props.i18n.bt("Follow", "Follow", "User follow button", undefined, true);if(e)return e({followText:h,onClick:this.handleButtonClick,userFollowed:u});if(n)return(0,d.jsx)(a.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n.bt("This is you", "This is you", "Button label to note that this is your Profile", undefined, true)});if(r){const e="number"==typeof t?(0,d.jsx)(c,{followerCount:t,userFollowed:u,followText:h}):h;return(0,d.jsx)(a.iP,{onTap:this.handleClick,children:(0,d.jsx)(a.xu,{color:u?"secondary":"primary",rounding:2,paddingX:3,paddingY:3,children:(0,d.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,d.jsx)(a.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,d.jsx)(a.zx,{accessibilityLabel:u?this.props.i18n.bt("Unfollow", "Unfollow", "userUnfollowButton.button.accessibilityLabel", undefined, true):this.props.i18n.bt("Follow", "Follow", "userFollowButton.button.accessibilityLabel", undefined, true),color:s||u?"gray":"red",selected:i?!u:!!u,fullWidth:o,onClick:this.handleButtonClick,size:null!=l?l:void 0,text:h})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,d.jsxs)(a.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,d.jsx)(a.iP,{onTap:this.handleClick,children:(0,d.jsx)(a.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,d.jsx)(a.o3,{paused:t||!1})})})]})}}function T(e){const{logContextEvent:t}=(0,f.v)(),o=(0,l.ZP)(),{id:n,setMostRecentPinId:s}=(0,_.f)(),r=(0,y.Z)(),a=(0,i.useDispatch)(),{showEmailVerificationReminderModal:c}=(0,w.y9)(),p=(0,g.mN)()(e.id),m=null==p?void 0:p.follower_count,x=p?p.explicitly_followed_by_me:e.userFollowed;return(0,h.Z)((()=>{const{id:t}=e,o=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";o&&o===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),a((0,b.ZN)(o)))})),(0,d.jsx)(j,{...e,follow:(e,t,o,n)=>{a((0,b.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:m,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:r,setMostRecentPinId:s,showEmailVerificationReminderModal:c,toastManagerContext:(0,v.F9)(),unfollow:(e,t,o,n)=>{a((0,b.KF)(e,t)).then(o,n)},userFollowed:x})}},232843:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>s});var n=o(425288);const{Provider:i,useMaybeHook:s}=(0,n.Z)("PinCreateDeleteContext")},575160:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(63444),i=o(883119),s=o(785893);function l({coverImages:e,height:t,isHovered:o,onClick:l,onMouseEnter:r,onMouseLeave:a,textType:d,text:c,url:u,width:h}){const p=e&&(e["236x"]||e["280x280"]);return(0,s.jsx)(n.Z,{backgroundColor:"gray",coverImage:p,height:t,isHovered:o,onClick:l,onMouseEnter:r,onMouseLeave:a,url:u,width:h,children:(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:h||"100%",children:"text"===d?(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,s.jsx)(i.X6,{align:"center",size:"500",color:"light",children:c})}):(0,s.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,s.jsx)(i.xv,{align:"center",weight:"bold",children:c})})})})}},12212:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(121093),s=o(499128),l=o(407043),r=o(785893);const a=e=>{const{logContextEvent:t}=(0,l.v)();return(0,r.jsx)(i.Z,{eligibleIds:e.eligibleIds,placementId:e.placementId,eligibleTypes:[10],children:({complete:o,dismiss:n,experience:{display_data:i}})=>{const l=i.link||e.linkUrl;return(0,r.jsx)(s.ZP,{duration:i.duration,href:l,text:i.text||"",onClick:()=>{o(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?o():n()}})}})};var d=o(343341);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const u=2e3;class h extends n.Component{constructor(...e){super(...e),c(this,"componentDidMount",(()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout((()=>this.triggerEducationToasts()),e)}))}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:o,experienceIds:n}=this.props;e.showOneToast((({hideToast:e})=>(0,r.jsx)(a,{experienceIds:n,completionOnDismissal:t,onHide:e,placementId:o,shouldLogClicks:!1})))}render(){return null}}function p(e){return(0,r.jsx)(h,{...e,toastManagerContext:(0,d.F9)()})}c(h,"defaultProps",{completionOnDismissal:!1})},89061:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(189734),i=o.n(n),s=o(898781),l=o(19121),r=o(883119),a=o(349700),d=o(785893);function c(e){var t,o,n,i;const s=null!==(t=null!==(o=null==e?void 0:e.imageMediumUrl)&&void 0!==o?o:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(n=null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:null==e?void 0:e.full_name)&&void 0!==n?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===s?void 0:s}}function u({board:e,forceViewer:t,isCompact:o,ownerOnly:n}){var u,h,p,m,x;const f=(0,s.ZP)(),w=(0,l.Z)(),g=n?[c(null==e?void 0:e.owner)]:function(e,t,o){const{collaborated_by_me:n,collaborating_users:s,owner:l}=null!=e?e:{},r=null!=s?s:[],a=[l];if(n||o){const e=r.findIndex((e=>t.isAuth&&e.id===t.id));if(-1!==e){const t=r.splice(e,1)[0];a.push(t)}else a.push(t)}const d=i()(r,"full_name");return[...a,...d]}(e,w,t).map(c),_=g.slice(0,3).map((e=>e.name));let y="";switch(g.length){case 3:y=(0,a.Wc)(`${f.bt("{{ first }}, {{ second }} and {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${null!==(u=_[0])&&void 0!==u?u:""}`,second:`${null!==(h=_[1])&&void 0!==h?h:""}`,last:`${null!==(p=_[2])&&void 0!==p?p:""}`});break;case 2:y=(0,a.Wc)(`${f.bt("{{ first }} and {{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${null!==(m=_[0])&&void 0!==m?m:""}`,second:`${null!==(x=_[1])&&void 0!==x?x:""}`});break;default:y=_.join(", ")}const v=g.length>3?(0,a.Wc)(`, ${f.nbt(["Collaborators: {{ userNames }} and {{ leftCount }} more.", "Collaborators: {{ userNames }} and {{ leftCount }} more."], g.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true)}`,{userNames:y,leftCount:""+(g.length-3)}):(0,a.Wc)(`, ${f.bt("Collaborators: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:y});return(0,d.jsx)(r.HE,{accessibilityLabel:v,collaborators:g,size:o?"xs":"sm"})}},281527:(e,t,o)=>{function n(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function i(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function s(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}o.d(t,{Y4:()=>n,g4:()=>i,sb:()=>s})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/19307.en_GB-5d49882753333df1.mjs.map